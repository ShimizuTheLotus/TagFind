<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="TagFind.Pages.DBTagEditPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:TagFind.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="using:TagFind.UI"
    mc:Ignorable="d">

    <ScrollViewer>
        <StackPanel Margin="0 48 0 0">
            <CommandBar>
                <AppBarButton x:Name="SaveButton"
                              x:Uid="SaveButton"
                              Click="SaveButton_Click"
                              Icon="Save"/>
                <AppBarButton x:Name="NewButton"
                              x:Uid="NewButton"
                              Click="NewButton_Click"
                              Icon="Add"/>
            </CommandBar>
            <ScrollView Padding="16">
                <ui:TagEditor x:Name="TagEditor"/>
            </ScrollView>
            <ScrollViewer Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" Padding="16" MinHeight="64">
                <ListView x:Name="TagListListView" HorizontalContentAlignment="Stretch" SelectionChanged="TagListListView_SelectionChanged">
                    <ScrollViewer.HorizontalScrollBarVisibility>
                        <ScrollBarVisibility>Disabled</ScrollBarVisibility>
                    </ScrollViewer.HorizontalScrollBarVisibility>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid>
                                <StackPanel>
                                    <TextBlock Text="{Binding MainName}"/>
                                    <ListView ItemsSource="{Binding LogicChains}">
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <ui:LogicChainPanel ItemsSource="{Binding LogicChainData}">

                                                </ui:LogicChainPanel>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>
                                    </ListView>
                                    <ui:TagsWrapPanel ItemsSource="{Binding Surnames}">
                                        <ui:TagsWrapPanel.ItemTemplate>
                                            <DataTemplate>
                                                <ui:TagBlock TagName="{Binding}"/>
                                            </DataTemplate>
                                        </ui:TagsWrapPanel.ItemTemplate>
                                    </ui:TagsWrapPanel>
                                </StackPanel>
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </ScrollViewer>
        </StackPanel>
    </ScrollViewer>
</Page>
